모든 어플리케이션은 여러 컴포넌트를 연결한 결과이며, 어플리케이션이 커짐에 따라 이러한 컴포넌트를 연결하는 방식은 프로젝트의 유지 보수 및 성공을 위한 중요한 요인이 된다.

컴포넌트 A가 주어진 기능을 수행하기 위해 컴포넌트 B를 필요로 할 때, A는 B에 종속적이다.

종속성을 모델링하는 방법을 싱글톤 패턴과 종속성 주입 패턴(DI)을 사용하여 살펴보겠다.

### 싱글턴 종속성
두 모듈을 서로 연결하는 가장 간단한 방식은 Node.js의 모듈 시스템을 활용하는 것이다. 이런식으로 상태 저장 종속성들을 묶는 방식은 사실상 싱글톤이다.

### 종속성 주입(DI)
Node.js의 모듈 시스템과 싱글톤 패턴은 어플리케이션의 컴포넌트들을 구조화 하고 연결하는 훌륭한 도구다. 그러나 한편으로는 컴포넌트 간의 결합을 강하게 만들기도 한다. 

실제로 싱글턴 예시에서 제작한 blog.js 모듈은 db.js 모듈 없이는 동작 할 수 없으며 다른 데이터베이스를 사용 할 수도 없다. 종속성 주입 패턴을 활용하면 모듈 간의 긴밀한 결합을 수정할 수 있다.

종속성 주입은 컴포넌트들의 종속성들이 인젝터(injector)라고 하는 외부요소에 의해 공급되는 매우 간단한 패턴이다.

인젝터는 다른 컴포넌트를 초기화 하고 종속성들을 함께 연결한다. 

### 종속성 주입의 문제점
종속성 주입이 제공하는 디커플링 및 재사용성에는 대가가 따른다. 일반적으로 코딩시 종속성을 해결 할 수 없기 때문에 시스템을 구성하는 여러 컴포넌트 간의 관계를 이해하기 어려워진다. 특히 복잡한 종속성 그래프를 가지는 큰 서비스가 존재하는 대규모 어플리케이션에서 두드러진다.

그리고 종속성 주입이 원시형태로 사용될 때, 종속성이 올바른 순서대로 주입될 수 있도록 전체 어플리케이션의 종속성 그래프를 직접 수동으로 작성해야 한다.

제어역전(Inversion of Control)이라는 또다른 패턴을 쓰면 어플리케이션의 모듈을 연결하는 책임을 제3의 엔티티가 하도록 할 수 있다.